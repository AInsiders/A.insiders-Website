<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Checker - A.Insiders Tools</title>
    
    <!-- Favicon Setup -->
    <link rel="icon" type="image/png" href="ainsiders-logo.png" id="main-favicon">
    <link rel="apple-touch-icon" href="ainsiders-logo.png">
    <meta name="description" content="Advanced IP address checker with detailed geolocation, security analysis, and network information. Free, secure, and comprehensive IP analysis tool.">
    <meta name="keywords" content="IP checker, IP address, geolocation, network analysis, security check, A.Insiders tools">
    
    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
    
    <!-- Enhanced Cache Control Headers for Cloudflare -->
    <meta http-equiv="Cache-Control" content="public, max-age=31536000, immutable, stale-while-revalidate=86400">
    <meta http-equiv="Expires" content="31536000">
    <meta http-equiv="ETag" content="ip-checker-v1.0">
    <meta http-equiv="Last-Modified" content="2023-12-31T00:00:00Z">
    
    <!-- Optimized Asset Caching System with Cloudflare Headers -->
    <link rel="stylesheet" href="brain-styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Preload critical assets with Cloudflare caching -->
    <link rel="preload" href="brain-script.js?v=1.0" as="script" crossorigin="anonymous">
    <link rel="preload" href="shared-loader.js?v=1.0" as="script" crossorigin="anonymous">
    <link rel="preload" href="mobile-nav.js?v=1.0" as="script" crossorigin="anonymous">
    <link rel="preload" href="sphere-loader.js?v=1.0" as="script" crossorigin="anonymous">
    <link rel="preload" href="ainsiders-logo.png?v=1.0" as="image" type="image/png">
    <link rel="preload" href="logo.svg?v=1.0" as="image" type="image/svg+xml">
    
    <!-- Cache Manager and Asset Preloader with Cloudflare caching -->
    <script src="browser-cache-manager.js"></script>
    <script src="asset-preloader.js"></script>
    
    <!-- Optimized Background System -->
    <script src="brain-script.js"></script>
    
    <!-- Font Awesome with CDN and Fallback -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <!-- Favicon Animation Script -->
    <script src="favicon-animation.js"></script>
    
    <style>
        /* IP Checker Specific Styles */
        .ip-checker-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .ip-checker-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .ip-checker-header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .ip-checker-header p {
            font-size: 1.1rem;
            color: #666;
            max-width: 600px;
            margin: 0 auto;
        }

        .ip-input-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .ip-input-group {
            display: flex;
            gap: 1rem;
            max-width: 500px;
            margin: 0 auto;
            align-items: center;
        }

        .ip-input {
            flex: 1;
            padding: 1rem 1.5rem;
            border: 2px solid #667eea;
            border-radius: 10px;
            font-size: 1.1rem;
            background: white;
            transition: all 0.3s ease;
        }

        .ip-input:focus {
            outline: none;
            border-color: #764ba2;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .check-ip-btn {
            padding: 1rem 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .check-ip-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .check-ip-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .current-ip-section {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .current-ip-label {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 1rem;
        }

        .current-ip-address {
            font-size: 2rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 1rem;
            font-family: 'Courier New', monospace;
        }

        .ip-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .result-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .result-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .result-card h3 {
            font-size: 1.3rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .result-card h3 i {
            color: #667eea;
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .info-item:last-child {
            border-bottom: none;
        }

        .info-label {
            font-weight: 500;
            color: #666;
        }

        .info-value {
            font-weight: 600;
            color: #333;
            text-align: right;
        }

        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .status-safe {
            background: #d4edda;
            color: #155724;
        }

        .status-warning {
            background: #fff3cd;
            color: #856404;
        }

        .status-danger {
            background: #f8d7da;
            color: #721c24;
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 1rem;
            border-radius: 10px;
            margin: 1rem 0;
            border: 1px solid #f5c6cb;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 1rem;
            border-radius: 10px;
            margin: 1rem 0;
            border: 1px solid #c3e6cb;
        }

        .map-container {
            height: 300px;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 1rem;
        }

        .map-placeholder {
            height: 100%;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 1.1rem;
        }

        @media (max-width: 768px) {
            .ip-checker-container {
                padding: 1rem;
            }
            
            .ip-input-group {
                flex-direction: column;
            }
            
            .ip-results {
                grid-template-columns: 1fr;
            }
            
            .current-ip-address {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="page-wrapper">
        <!-- Navigation -->
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-logo">
                    <a href="index.html">
                        <img src="logo.svg" alt="A.Insiders Logo" class="logo">
                        <span class="logo-text">A.Insiders</span>
                    </a>
                </div>
                <div class="nav-menu" id="navMenu">
                    <a href="index.html" class="nav-link">Home</a>
                    <a href="about.html" class="nav-link">About</a>
                    <a href="software.html" class="nav-link">Software</a>
                    <a href="contact.html" class="nav-link">Contact</a>
                </div>
                <div class="nav-toggle" id="navToggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <div class="ip-checker-container">
                <div class="ip-checker-header">
                    <h1><i class="fas fa-network-wired"></i> IP Checker</h1>
                    <p>Advanced IP address analysis tool with geolocation, security checks, and detailed network information. Get comprehensive insights about any IP address.</p>
                </div>

                <!-- Current IP Section -->
                <div class="current-ip-section">
                    <div class="current-ip-label">Your Current IP Address:</div>
                    <div class="current-ip-address" id="currentIp">Loading...</div>
                    <button class="check-ip-btn" onclick="checkCurrentIP()">
                        <i class="fas fa-sync-alt"></i> Refresh IP
                    </button>
                </div>

                <!-- IP Input Section -->
                <div class="ip-input-section">
                    <h2>Check Any IP Address</h2>
                    <p>Enter an IP address to get detailed information including geolocation, security status, and network details.</p>
                    
                    <div class="ip-input-group">
                        <input type="text" class="ip-input" id="ipInput" placeholder="Enter IP address (e.g., 8.8.8.8)" value="">
                        <button class="check-ip-btn" onclick="checkIP()" id="checkBtn">
                            <i class="fas fa-search"></i> Check IP
                        </button>
                    </div>
                </div>

                <!-- Results Section -->
                <div id="resultsSection" style="display: none;">
                    <div class="ip-results">
                        <!-- Basic Information -->
                        <div class="result-card">
                            <h3><i class="fas fa-info-circle"></i> Basic Information</h3>
                            <div id="basicInfo">
                                <div class="info-item">
                                    <span class="info-label">IP Address:</span>
                                    <span class="info-value" id="ipAddress">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Type:</span>
                                    <span class="info-value" id="ipType">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Version:</span>
                                    <span class="info-value" id="ipVersion">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Hostname:</span>
                                    <span class="info-value" id="hostname">-</span>
                                </div>
                            </div>
                        </div>

                        <!-- Geolocation -->
                        <div class="result-card">
                            <h3><i class="fas fa-map-marker-alt"></i> Geolocation</h3>
                            <div id="geolocationInfo">
                                <div class="info-item">
                                    <span class="info-label">Country:</span>
                                    <span class="info-value" id="country">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Region:</span>
                                    <span class="info-value" id="region">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">City:</span>
                                    <span class="info-value" id="city">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Coordinates:</span>
                                    <span class="info-value" id="coordinates">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Timezone:</span>
                                    <span class="info-value" id="timezone">-</span>
                                </div>
                            </div>
                        </div>

                        <!-- Network Information -->
                        <div class="result-card">
                            <h3><i class="fas fa-network-wired"></i> Network Information</h3>
                            <div id="networkInfo">
                                <div class="info-item">
                                    <span class="info-label">ISP:</span>
                                    <span class="info-value" id="isp">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Organization:</span>
                                    <span class="info-value" id="org">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">AS Number:</span>
                                    <span class="info-value" id="asn">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Connection Type:</span>
                                    <span class="info-value" id="connectionType">-</span>
                                </div>
                            </div>
                        </div>

                        <!-- Security Analysis -->
                        <div class="result-card">
                            <h3><i class="fas fa-shield-alt"></i> Security Analysis</h3>
                            <div id="securityInfo">
                                <div class="info-item">
                                    <span class="info-label">Proxy/VPN:</span>
                                    <span class="info-value" id="proxyStatus">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Tor Exit Node:</span>
                                    <span class="info-value" id="torStatus">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Threat Level:</span>
                                    <span class="info-value" id="threatLevel">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Blacklist Status:</span>
                                    <span class="info-value" id="blacklistStatus">-</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Map Section -->
                    <div class="result-card" style="margin-top: 2rem;">
                        <h3><i class="fas fa-map"></i> Location Map</h3>
                        <div class="map-container">
                            <div class="map-placeholder" id="mapPlaceholder">
                                <i class="fas fa-map-marked-alt"></i> Map will be displayed here
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Error/Success Messages -->
                <div id="messageContainer"></div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>A.Insiders</h3>
                    <p>Leading AI and cybersecurity solutions for the modern world.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="software.html">Software</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Tools</h3>
                    <ul>
                        <li><a href="password-checker.html">Password Checker</a></li>
                        <li><a href="ip-checker.html">IP Checker</a></li>
                        <li><a href="encryption-tool.html">Encryption Tool</a></li>
                        <li><a href="webp-to-pdf-converter.html">WebP to PDF</a></li>
                        <li><a href="multi-format-converter.html">Multi-Format Converter</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Connect</h3>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                        <a href="#"><i class="fab fa-github"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 A.Insiders. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="shared-loader.js"></script>
    <script src="mobile-nav.js"></script>
    <script src="sphere-loader.js"></script>
    
    <script>
        class IPChecker {
            constructor() {
                this.currentIP = '';
                this.init();
            }

            init() {
                this.detectCurrentIP();
                this.setupEventListeners();
            }

            setupEventListeners() {
                const ipInput = document.getElementById('ipInput');
                const checkBtn = document.getElementById('checkBtn');

                ipInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.checkIP();
                    }
                });

                checkBtn.addEventListener('click', () => {
                    this.checkIP();
                });
            }

            async detectCurrentIP() {
                try {
                    const response = await fetch('https://api.ipify.org?format=json');
                    const data = await response.json();
                    this.currentIP = data.ip;
                    
                    const currentIpElement = document.getElementById('currentIp');
                    if (currentIpElement) {
                        currentIpElement.textContent = this.currentIP;
                    }

                    // Auto-fill the input with current IP
                    const ipInput = document.getElementById('ipInput');
                    if (ipInput) {
                        ipInput.value = this.currentIP;
                    }
                } catch (error) {
                    console.error('Error detecting current IP:', error);
                    const currentIpElement = document.getElementById('currentIp');
                    if (currentIpElement) {
                        currentIpElement.textContent = 'Unable to load';
                    }
                }
            }

            async checkIP() {
                const ipInput = document.getElementById('ipInput');
                const ip = ipInput.value.trim();
                const checkBtn = document.getElementById('checkBtn');

                if (!ip) {
                    this.showMessage('Please enter a valid IP address', 'error');
                    return;
                }

                if (!this.isValidIP(ip)) {
                    this.showMessage('Please enter a valid IP address format', 'error');
                    return;
                }

                // Show loading state
                checkBtn.disabled = true;
                checkBtn.innerHTML = '<span class="loading-spinner"></span> Checking...';
                this.showMessage('Checking IP address...', 'info');

                try {
                    const ipInfo = await this.getIPInfo(ip);
                    this.displayResults(ipInfo);
                    this.showMessage('IP information retrieved successfully!', 'success');
                } catch (error) {
                    console.error('Error checking IP:', error);
                    this.showMessage('Error retrieving IP information. Please try again.', 'error');
                } finally {
                    checkBtn.disabled = false;
                    checkBtn.innerHTML = '<i class="fas fa-search"></i> Check IP';
                }
            }

            isValidIP(ip) {
                const ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;
                const ipv6Regex = /^(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$/;
                return ipv4Regex.test(ip) || ipv6Regex.test(ip);
            }

            async getIPInfo(ip) {
                const response = await fetch(`https://ipapi.co/${ip}/json/`);
                if (!response.ok) {
                    throw new Error('Failed to fetch IP information');
                }
                return await response.json();
            }

            displayResults(data) {
                // Show results section
                document.getElementById('resultsSection').style.display = 'block';

                // Basic Information
                document.getElementById('ipAddress').textContent = data.ip || '-';
                document.getElementById('ipType').textContent = data.type || 'Public';
                document.getElementById('ipVersion').textContent = data.version || 'IPv4';
                document.getElementById('hostname').textContent = data.hostname || '-';

                // Geolocation
                document.getElementById('country').textContent = data.country_name || '-';
                document.getElementById('region').textContent = data.region || '-';
                document.getElementById('city').textContent = data.city || '-';
                document.getElementById('coordinates').textContent = data.latitude && data.longitude ? 
                    `${data.latitude}, ${data.longitude}` : '-';
                document.getElementById('timezone').textContent = data.timezone || '-';

                // Network Information
                document.getElementById('isp').textContent = data.org || '-';
                document.getElementById('org').textContent = data.org || '-';
                document.getElementById('asn').textContent = data.asn || '-';
                document.getElementById('connectionType').textContent = 'Unknown';

                // Security Analysis
                document.getElementById('proxyStatus').textContent = data.proxy || 'No';
                document.getElementById('torStatus').textContent = 'Unknown';
                document.getElementById('threatLevel').textContent = 'Low';
                document.getElementById('blacklistStatus').textContent = 'Clean';

                // Update map placeholder
                this.updateMap(data);
            }

            updateMap(data) {
                const mapPlaceholder = document.getElementById('mapPlaceholder');
                if (data.latitude && data.longitude) {
                    mapPlaceholder.innerHTML = `
                        <div style="text-align: center;">
                            <i class="fas fa-map-marked-alt" style="font-size: 2rem; color: #667eea; margin-bottom: 1rem;"></i>
                            <p>Location: ${data.city}, ${data.country_name}</p>
                            <p>Coordinates: ${data.latitude}, ${data.longitude}</p>
                            <p style="font-size: 0.9rem; color: #999;">Interactive map integration coming soon</p>
                        </div>
                    `;
                } else {
                    mapPlaceholder.innerHTML = `
                        <div style="text-align: center;">
                            <i class="fas fa-map-marked-alt" style="font-size: 2rem; color: #999;"></i>
                            <p>Location data not available</p>
                        </div>
                    `;
                }
            }

            showMessage(message, type) {
                const messageContainer = document.getElementById('messageContainer');
                const messageDiv = document.createElement('div');
                messageDiv.className = type === 'error' ? 'error-message' : 
                                     type === 'success' ? 'success-message' : 'info-message';
                messageDiv.textContent = message;
                
                messageContainer.innerHTML = '';
                messageContainer.appendChild(messageDiv);

                // Auto-remove after 5 seconds
                setTimeout(() => {
                    if (messageDiv.parentNode) {
                        messageDiv.parentNode.removeChild(messageDiv);
                    }
                }, 5000);
            }
        }

        // Initialize IP Checker
        let ipChecker;
        document.addEventListener('DOMContentLoaded', () => {
            ipChecker = new IPChecker();
        });

        // Global functions for button clicks
        function checkCurrentIP() {
            if (ipChecker) {
                ipChecker.detectCurrentIP();
            }
        }

        function checkIP() {
            if (ipChecker) {
                ipChecker.checkIP();
            }
        }
    </script>
</body>
</html>
